import{r as n,l as y,g as b,u as g,o as w,c as x,a as t,w as c,v as d,d as l,i as p,t as B,m as k,Q as A,T as R}from"./index-8a90cbd6.js";const T={class:"container"},U={class:"row",style:{"min-height":"80vh"}},V={class:"col-8",style:{margin:"auto"}},C=["aria-busy"],Q={__name:"AddNote",setup(D){const[s,a]=[n(),n()],v=y(k),h=b().currentUser,m=g(),[u,r]=[n(!1),n("บันทึก")];async function _(){[u.value,r.value]=[!0,"กำลังโหลด...."];const i={title:s.value,content:a.value,user:h.email};return new Promise((e,o)=>{A(R(v,"notes"),i).then(f=>{e(f)})}).then(()=>{m.push("/")}).catch(()=>{[u.value,r.value]=[!1,"บันทึก"],alert("Failed to save")})}return(i,e)=>(w(),x("div",T,[t("div",U,[t("div",V,[t("article",null,[c(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>p(s)?s.value=o:null),placeholder:"หัวข้อโน้ต"},null,512),[[d,l(s)]]),c(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>p(a)?a.value=o:null),placeholder:"จดสิ่งต่างๆในนี้",rows:"8"},null,512),[[d,l(a)]]),t("button",{onClick:_,"aria-busy":l(u),type:"button"},B(l(r)),9,C)])])])]))}};export{Q as default};
